<!DOCTYPE html>
<html>
<head>
    <title>Validation</title>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
    <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
    <link href="../../../codebase/fonts/font_roboto/roboto.css" rel="stylesheet" type="text/css"/>
    <link href="../../../codebase/dhtmlx.css" rel="stylesheet" type="text/css"/>
    <script src="../../../codebase/dhtmlx.js"></script>
    <script>
        var myForm, formData;
        var vRules = {
            NotEmpty: {rule: "NotEmpty", note: "NotEmpty validation is set"},
            ValidInteger: {rule: "ValidInteger", note: "ValidInteger validation is set"},
            CustomFunc: {
                rule: function (v) {
                    return (v == "yes" || v == "no");
                }, note: "custom func, type 'yes' or 'no'"
            }
        };

        function doOnLoad() {
            formData = [
                {type: "settings", position: "label-left", labelWidth: 110, inputWidth: 155},
                {
                    type: "input",
                    name: "inp",
                    label: "Enter text here",
                    value: "abc",
                    note: {text: "validation not set"}
                },
                {type: "button", value: "Validate", name: "validate"}
            ];
            myForm = new dhtmlXForm("myForm", formData);
            myForm.attachEvent("onButtonClick", function (id) {
                if (id == "validate") myForm.validate();
            });
        }

        function byId(id) {
            return document.getElementById(id);
        }

        function setValidation(id, rule) {
            myForm.setValidation(id, vRules[rule].rule);
            myForm.setNote(id, {text: vRules[rule].note});
        }

        function clearValidation(id) {
            myForm.clearValidation(id);
            myForm.setNote(id, {text: "validation not set"});
            myForm.resetValidateCss();
        }

    </script>
</head>
<body onload="doOnLoad();">
<div>
    <input onclick="setValidation('inp', 'NotEmpty');" type="button" value="NotEmpty">
    <input onclick="setValidation('inp', 'ValidInteger');" type="button" value="ValidInteger">
    <input onclick="setValidation('inp', 'CustomFunc');" type="button" value="Custom Func">
    <input onclick="clearValidation('inp');" type="button" value="Clear">
</div>
<div id="myForm" style="height:500px;margin-top: 50px;"></div>
</body>
</html>

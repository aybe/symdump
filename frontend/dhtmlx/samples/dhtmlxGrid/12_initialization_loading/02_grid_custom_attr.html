<!DOCTYPE html>
<html>
<head>
    <title>Setting custom attributes</title>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
    <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
    <link href="../../../codebase/fonts/font_roboto/roboto.css" rel="stylesheet" type="text/css"/>
    <link href="../../../codebase/dhtmlx.css" rel="stylesheet" type="text/css"/>
    <script src="../../../codebase/dhtmlx.js"></script>
    <script>
        var myGrid;

        function doOnLoad() {
            myGrid = new dhtmlXGridObject('gridbox');
            myGrid.setImagePath("../../../codebase/imgs/");
            myGrid.setHeader("Sales, Book Title, Author");
            myGrid.setInitWidths("100,250,*");
            myGrid.setColAlign("right,left");
            myGrid.setColTypes("ed,ed,ed");
            myGrid.setColSorting("int,str");
            myGrid.enableAutoWidth(true);
            myGrid.enableAutoHeight(true);
            myGrid.init();
            myGrid.setSerializationLevel(false, true);
            myGrid.load("../common/grid_attr.xml");
        }

        function addAttribute() {
            var val = document.getElementById('val').value;
            var txt = document.getElementById('txt').value;
            if (!val) return;
            addAttrToSelect(val);
            //add attribute
            myGrid.setRowAttribute(myGrid.getSelectedId(), val, txt);
            //register attribute for serialization
            myGrid.xml.row_attrs.push(val);
        }

        function showAttribute() {
            alert(myGrid.getRowAttribute(myGrid.getSelectedId(), document.getElementById('sel').value));
        }

        function addAttrToSelect(value) {
            var z = document.createElement('option');
            z.value = value;
            z.appendChild(document.createTextNode(value));
            document.getElementById("sel").appendChild(z);
            z.selected = true;
        }
    </script>
</head>
<body onload="doOnLoad()">
<h1>Setting custom attributes</h1>
<p>Grid allows to set custom attributes for rows by the xml or using setRowAttribute grid method. To get attributes use
    getRowAttribute method.</p>
<table>
    <tr>
        <td valign="top">
            <select id="sel">
                <option value="price">price</option>
                <option value="date">date of publication</option>
            </select>
            <input name="a2" onclick="showAttribute();" type="button" value="show attribute"/>
        </td>
    </tr>
    <tr>
        <td valign="top">
            <div id="gridbox" style="width:600px; height:350px; background-color:white;"></div>
        </td>
    </tr>
    <tr>
        <td valign="top">
            Name: <input id="val" size="18" type="text"> Value: <input id="txt" size="18" type="text">&nbsp;
            <input name="a2" onclick="addAttribute();" type="button" value="add attribute to selected"/>
        </td>
    </tr>
</table>
<a href="javascript:void(0)"
   onclick="myGrid.xml.row_attrs.push('price');myGrid.xml.row_attrs.push('date');alert(myGrid.serialize())">serialize</a>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
    <title>Grouping and Sorting</title>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
    <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
    <link href="../../../codebase/fonts/font_roboto/roboto.css" rel="stylesheet" type="text/css"/>
    <link href="../../../codebase/dhtmlx.css" rel="stylesheet" type="text/css"/>
    <script src="../../../codebase/dhtmlx.js"></script>
    <script src="../common/companies.js"></script>
    <script>
        var myBarChart;

        function doOnLoad() {
            myBarChart = new dhtmlXChart({
                view: "bar",
                container: "chart_container",
                value: "#sales#",
                preset: "alpha",
                label: "#id#",
                padding: {
                    bottom: 0
                },
                sort: {
                    by: "#id#",
                    as: "string",
                    dir: "asc"
                },
                group: {
                    by: "#year#",
                    map: {
                        sales: ["#sales#", "sum"]
                    }
                }
            });
            myBarChart.parse(data, "json");
        }

        function groupCompany() {
            myBarChart.group({
                by: "#company#",
                map: {
                    sales: ["#sales#", "sum"]
                }
            });
            myBarChart.refresh();
        }

        function groupSum() {
            myBarChart.group({
                by: "#year#",
                map: {
                    sales: ["#sales#", "sum"]
                }
            });
        }

        function groupMax() {
            myBarChart.group({
                by: "#year#",
                map: {
                    sales: ["#sales#", "max"]
                }
            });
        }
    </script>
</head>
<body onload="doOnLoad();">
<p>It's possible to group chart data by a certain property. You may use group method or group property in a chart
    constructor.</p>
<div id="chart_container" style="width:600px;height:200px;border:1px solid #c0c0c0;"></div>
<br/>
<input name="some_name" onclick="window['group'+document.getElementById('groupby').value]()" type="button"
       value="Group by">
<select id="groupby" name="groupby">
    <option value="Company">company</option>
    <option SELECTED value="Sum">year (total sales)</option>
    <option value="Max">year (max sales)</option>
</select>
</body>
</html>

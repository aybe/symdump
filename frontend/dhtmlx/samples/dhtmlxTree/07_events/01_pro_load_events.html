<!DOCTYPE html>
<html>
<head>
    <title>Start and End of loading </title>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
    <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
    <link href="../../../codebase/fonts/font_roboto/roboto.css" rel="stylesheet" type="text/css"/>
    <link href="../../../codebase/dhtmlx.css" rel="stylesheet" type="text/css"/>
    <script src="../../../codebase/dhtmlx.js"></script>
    <link href="../common/demo_style.css" rel="stylesheet" type="text/css"/>
    <script>
        var myTree;

        function doOnLoad() {
            myTree = new dhtmlXTreeObject("treeboxbox_tree", "100%", "100%", 0);
            myTree.setImagePath("../../../skins/web/imgs/dhxtree_web/");
            myTree.enableSmartXMLParsing(true);
            myTree.setOnLoadingStart(func_a);
            myTree.setOnLoadingEnd(func_b);
            myTree.load("../common/tree.xml");
        }

        function func_a() {
            document.getElementById("b_1").style.display = "";
            document.getElementById("b_2").style.display = "none";
            if (document.getElementById("a_1").checked) alert("Loading start");
        }

        function func_b() {
            document.getElementById("b_2").style.display = "";
            document.getElementById("b_1").style.display = "none";
            if (document.getElementById("a_1").checked) alert("Loading end");
        }
    </script>
</head>
<body onload="doOnLoad()">
<h1>XML loading events</h1>
<p>Loading events occur when XML parsing starts and finishes. To test this functionality open/close nodes or refresh the
    tree (hardly detectable on fast connection)</p>
<table>
    <tr>
        <td valign="top">
            <div class="tree_demo_samples" id="treeboxbox_tree"></div>
        </td>
        <td rowspan="2" style="padding-left:25px" valign="top">
            <input checked id="a_1" type="checkbox"><label for="a_1">Show alerts for event</label><br>
            <div id="b_1" style="display:none"><h1 style="color:red">Loading</h1></div>
            <div id="b_2" style="display:none"><h1 style="color:green">Done</h1></div>
        </td>
    </tr>
</table>
</body>
</html>

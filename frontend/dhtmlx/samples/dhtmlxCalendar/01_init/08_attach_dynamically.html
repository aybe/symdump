<!DOCTYPE html>
<html>
<head>
    <title>Attach inputs dynamically</title>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
    <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
    <link href="../../../codebase/fonts/font_roboto/roboto.css" rel="stylesheet" type="text/css"/>
    <link href="../../../codebase/dhtmlx.css" rel="stylesheet" type="text/css"/>
    <script src="../../../codebase/dhtmlx.js"></script>
    <style>
        #calendar,
        #calendar2,
        #calendar3 {
            border: 1px solid #dfdfdf;
            font-family: Roboto, Arial, Helvetica;
            font-size: 14px;
            color: #404040;
        }

        #att_state,
        #att_state2,
        #att_state3 {
            font-family: Roboto, Arial, Helvetica;
            font-size: 14px;
            color: #404040;
        }
    </style>
    <script>
        var myCalendar;

        function doOnLoad() {
            myCalendar = new dhtmlXCalendarObject();
            myCalendar.setPosition("right");
            var k = {"cal_1": "att_state", "cal_2": "att_state2", "cal_3": "att_state3"};
            for (var a in k) doAttach(a, k[a]);
        }

        var attached = {};

        function doAttach(id, sp) {
            if (attached[id] != null) return;
            attached[id] = myCalendar.attachObj(id);
            document.getElementById(sp).innerHTML = "attached";
            document.getElementById(sp).style.color = "green";
        }

        function doDetach(id, sp) {
            if (attached[id] == null) return;
            myCalendar.detachObj(attached[id]);
            attached[id] = null;
            document.getElementById(sp).innerHTML = "not attached";
            document.getElementById(sp).style.color = "red";
        }
    </script>
</head>
<body onload="doOnLoad();">
<div style="position:relative;height:350px;">
    <table>
        <tr>
            <td>
                <input onclick="doAttach('cal_1','att_state');" type="button" value="attach">
                <input onclick="doDetach('cal_1','att_state');" type="button" value="detach">
            </td>
            <td width="100"><span id="att_state"></span></td>
            <td><input id="cal_1" type="text"></td>
        </tr>
        <tr>
            <td>
                <input onclick="doAttach('cal_2','att_state2');" type="button" value="attach">
                <input onclick="doDetach('cal_2','att_state2');" type="button" value="detach">
            </td>
            <td><span id="att_state2"></span></td>
            <td><input id="cal_2" type="text"></td>
        </tr>
        <tr>
            <td>
                <input onclick="doAttach('cal_3','att_state3');" type="button" value="attach">
                <input onclick="doDetach('cal_3','att_state3');" type="button" value="detach">
            </td>
            <td><span id="att_state3"></span></td>
            <td><input id="cal_3" type="text"></td>
        </tr>
    </table>
</div>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
    <title>Unload</title>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
    <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
    <link href="../../../codebase/fonts/font_roboto/roboto.css" rel="stylesheet" type="text/css"/>
    <link href="../../../codebase/dhtmlx.css" rel="stylesheet" type="text/css"/>
    <script src="../../../codebase/dhtmlx.js"></script>
    <script>
        var myMenu, myContextMenu;

        function initMenu() {
            if (myMenu == null) {
                myMenu = new dhtmlXMenuObject({
                    parent: "menuObj",
                    icons_path: "../common/imgs/",
                    xml: "../common/dhxmenu.xml"
                });
            }
        }

        function unloadMenu() {
            if (myMenu != null) {
                myMenu.unload();
                myMenu = null;
            }
        }

        function initContextMenu() {
            if (myContextMenu == null) {
                document.getElementById("contextArea").style.visibility = "visible";
                myContextMenu = new dhtmlXMenuObject({
                    parent: "contextArea",
                    icons_path: "../common/imgs/",
                    context: true,
                    xml: "../common/dhxmenu.xml"
                });
            }
        }

        function unloadContextMenu() {
            if (myContextMenu != null) {
                myContextMenu.unload();
                myContextMenu = null;
                document.getElementById("contextArea").style.visibility = "hidden";
            }
        }
    </script>
</head>
<body>
<div style="height: 400px; position: relative;">
    <div id="menuObj"></div>
    <div id="contextArea"
         style="position: absolute; left: 100px; top: 100px; width: 100px; height: 60px; border: #C1C1C1 1px solid; background-color: #E7F4FF; visibility: hidden;"></div>
</div>
<input onclick="initMenu();" type="button" value="init menu">
<input onclick="unloadMenu();" type="button" value="unload menu">
<input onclick="initContextMenu();" type="button" value="init context menu">
<input onclick="unloadContextMenu();" type="button" value="unload context menu">
</body>
</html>

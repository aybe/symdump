<!DOCTYPE html>
<html>
<head>
    <title>Minimal init</title>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
    <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
    <link href="../../../codebase/fonts/font_roboto/roboto.css" rel="stylesheet" type="text/css"/>
    <link href="../../../codebase/dhtmlx.css" rel="stylesheet" type="text/css"/>
    <script src="../../../codebase/dhtmlx.js"></script>
    <script>

        var dhxWins;

        function doOnLoad() {
            dhxWins = new dhtmlXWindows();
            dhxWins.attachViewportTo("winVP");
        }

        var idPrefix = 1;

        function createWindow() {
            var p = 0;
            dhxWins.forEachWindow(function () {
                p++;
            });
            if (p > 5) {
                alert("Too many windows");
                return;
            }
            var id = "userWin" + (idPrefix++);
            //
            var w = Number(document.getElementById("win_w").value);
            var h = Number(document.getElementById("win_h").value);
            var x = Number(document.getElementById("win_x").value);
            var y = Number(document.getElementById("win_y").value);
            //
            dhxWins.createWindow(id, x, y, w, h);
            dhxWins.window(id).setText(document.getElementById("win_t").value);
            // dhxWins.window(id).keepInViewport(true);
            //
            document.getElementById("win_x").value = x + 50;
            document.getElementById("win_y").value = y + 40;
        }

        function doOnUnload() {
            if (dhxWins != null && dhxWins.unload != null) {
                dhxWins.unload();
                dhxWins = null;
            }
        }

    </script>
</head>
<body onload="doOnLoad();" onunload="doOnUnload();">
<div>
    <table>
        <tr>
            <td>Input Position (x,y)</td>
            <td><input id="win_x" style="width: 30px;" type="text" value="20"> <input id="win_y" style="width: 30px;"
                                                                                      type="text" value="30"></td>
        </tr>
        <tr>
            <td>Input Size (width, height)</td>
            <td><input id="win_w" style="width: 30px;" type="text" value="320"> <input id="win_h" style="width: 30px;"
                                                                                       type="text" value="200"></td>
        </tr>
        <tr>
            <td>Input Header Text</td>
            <td><input id="win_t" style="width: 150px;" type="text" value="New dhtmlxWindow"></td>
        </tr>
        <tr>
            <td align="center" colspan="2" style="padding-top: 10px;"><input onclick="createWindow();" type="button"
                                                                             value="Create Window"></td>
        </tr>
    </table>
</div>
<div id="winVP" style="position: relative; height: 500px; border: #cecece 1px solid; margin: 10px;"></div>
</body>
</html>
